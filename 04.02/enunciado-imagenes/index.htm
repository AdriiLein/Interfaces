<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>IMAGENES</title>

<script>
/*

Este programa habla con el servidor para obtener las imagenes. Completar creando la parrilla y los eventos
indicados en el enunciado.

Se pude hacer otra version usando las imagenes en local
Hay que hacer un array con los nombres para cargarlas desde javascript

*/
function iniciar(){
	// obtener 100 imagenes
	for (var j=1;j<11;j++){
		getFaces(j);
	}
}
function getFaces(page){
	// [notas]
	// funcion para solicitar imagenes a la API
	// sincrono para encadenar las 10 peticiones, deberia ser asincrono
	
	var xhttp = new XMLHttpRequest(); //  [nota] para asincrono creamos un objeto para cada peticion
	xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			// todas las peticiones son atendidas por la misma callBack
			console.log(JSON.parse(this.responseText)); 
		}
	}
	var url='https://api.generated.photos/api/v1/faces?page='+page+'&api_key=x8TzZX8fqDeDsg6viL9fUA';
	xhttp.open("GET",url,true); // [nota] true:asincrono , false:sincrono
	xhttp.send(); 
}
window.onload=iniciar;
</script>

<style>
</style>

</head>
 
<body>
	<p><b>Instrucciones</b>: mover el cursor con teclas 4,8,6,2 del bloque numerico. ENTER y ESC para seleccionar. </p>
</body>
</html>
